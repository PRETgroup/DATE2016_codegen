\section{Background on Heart }
\begin{figure*}[htbp]
	\centering
	\input{./figures/heartOverview}
	\caption{Electrical conduction systems of a heart}
	\label{fig:heartOverview}
\end{figure*}

In this section, using Figure~\ref{fig:heartOverview} we 
describe the electrical conduction system of the heart.

\noindent \textbf{Heart.}
The human heart (see Figure~\ref{fig:heart})
 is an organ that pumps blood throughout the body.
It achieves this by regularly contracting an relaxing the muscles
which are orchestrated by a flow of electrical signals through the heart.
The signal is primarily generated automatically by the \ac{SA} node.
First, the signal travels through left and right atrium, contracting 
the muscles and pushing the blood into ventricles.
 
Second, to ensure the both ventricles are filled, 
the \ac{AV} node introduces critical delay 
in the conduction system.   
Finally, the electrical signal propagates through 
both ventricles. This contracts the muscles and pumps the blood out.


	
\noindent \textbf{\acf{AP}.} 
The propagation of electrical signal at cellular level 
is described as a change in  voltage 
across cell membrane due to ionic flow over a period of time, 
know as \acf{AP} shown in Figure~\ref{fig:actionPotential}. 
The voltage behaviour can be described in four stages.
\begin{enumerate}
	\item \acf{RP}: This is the steady state of the cell and awaits for 
					external stimulus current to activate it.
	\item \acf{UP}: When activated by stimulus current, 
					the cell depolarises (inward flow of positive ions) and 
					contracts the muscles. This depolarisation yields 
					stimulus current that activates neighbouring cells.
	\item \acf{ERP}: Once activated, the cell cannot be activated again 
					 due to recovery process of the ionic channels. 
					 Any new stimulus will be blocked. 
	\item \acf{RRP}: During this period, the ionic channels are partially recovered
					 and the cell can be activated. However, the morphology
					 of the action potential curve will be shorter.
	
\end{enumerate} 
 For more details on understanding \acp{AP} please refer to~\cite{chen14}.\\

\noindent \textbf{Abstract model.}
The human heart has over two trillion cells. For analytical purposes, a
model consisting a network of $32$ nodes is presented in literature
and is used for testing off-the-shelf pacemakers~\cite{chen14,zhihao12}.
The abstracted electrical conduction system consisting  of 
nodes and paths is presented in Figure~\ref{fig:heartNetwork}.
The functionality of each node is described using \acf{HA} in Section~\ref{sec:HA}. The path model describes the 
conduction delay of the electrical signal.
Later in Section~\ref{sec:codeGen}, we use the abstract network model 
to illustrate our modular code generation.

 
