\section{Background on the Heart }
\begin{figure*}[htbp]
	\centering
	\input{./figures/heartOverview}
	\caption{Electrical conduction systems of the heart}
	\label{fig:heartOverview}
\end{figure*}

In this section, using Figure~\ref{fig:heartOverview} we 
describe the electrical conduction system of the heart.

\noindent \textbf{Heart.}
The human heart (see Figure~\ref{fig:heart})
 is an organ that pumps blood throughout the body.
It achieves this by regularly contracting and relaxing the muscles
which are orchestrated by a flow of electrical signals through the heart.
The signal is primarily generated automatically by the \ac{SA} node.
First, the signal travels through the left and right atria, contracting 
the muscles and pushing the blood into the ventricles.
 
Second, to ensure both ventricles are filled, 
the \ac{AV} node introduces critical delay 
in the conduction system.   
Finally, the electrical signal propagates through 
both ventricles. This contracts the muscles and pumps the blood out of the heart.


\noindent \textbf{\acf{AP}.} 
The propagation of electrical signals at a cellular level 
is described as a change in  voltage 
across the cell membrane due to ionic flow. Over a period of time, 
this change is known as an \acf{AP}~\cite{chen14} as shown in Figure~\ref{fig:actionPotential}. 
The \ac{AP} can be described in four stages.
\begin{enumerate}
	\item \acf{RP}: This is the steady state of the cell while awaiting 
					activation by an external stimulus.
	\item \acf{UP}: When activated by an external stimulus, 
					the cell depolarises (inward flow of positive ions) and 
					contracts the muscles. This depolarisation yields 
					a stimulus that activates neighbouring cells.
	\item \acf{ERP}: Once activated, the cell cannot be activated again 
					 due to the recovery process of the ionic channels. 
					 Any new stimulus will be blocked. 
	\item \acf{RRP}: During this period, the ionic channels are partially recovered
					 and the cell can be activated. However, the morphology
					 of the \ac{AP} will be shorter.
	
\end{enumerate}


\noindent \textbf{Abstract model.}
The human heart has over two trillion cells. For analytical purposes, a
model consisting of a network of $32$ nodes is presented in literature
and is used for testing off-the-shelf pacemakers~\cite{chen14,zhihao12}.
The abstracted electrical conduction system consisting  of 
nodes and paths is presented in Figure~\ref{fig:heartNetwork}.
The functionality of each node is described using \acf{HA} in Section~\ref{sec:HA}. The path model describes the 
conduction delay of the electrical signal.
Later in Section~\ref{sec:codeGen}, we use the abstract network model 
to illustrate our modular code generation.

 
